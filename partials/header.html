<!-- 
  SmartBuild Construction Template - Header
  Main Navigation with CTA "Get a Quote"
-->

<style>
.navbar {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.98), rgba(255, 255, 255, 0.95));
  backdrop-filter: blur(10px);
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  z-index: 1000;
  transition: all 0.3s ease;
}

.navbar-scrolled {
  background: linear-gradient(135deg, #FFFFFF, rgba(255, 255, 255, 0.98));
  box-shadow: 0 4px 20px rgba(0,0,0,0.15);
}

.navbar-container {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem 1.5rem;
  column-gap: 1.5rem;
}

.navbar-brand {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  text-decoration: none;
  color: #212121;
  font-family: 'Poppins', sans-serif;
  font-weight: 700;
  font-size: 1.5rem;
  flex: 0 0 auto;
}

.brand-logo {
  width: 45px;
  height: 45px;
  background: linear-gradient(135deg, #FF9800, #FFC107);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 1.5rem;
}

.brand-text {
  color: #1A237E;
}

.brand-text span {
  color: #FF9800;
}

.navbar-nav {
  display: flex;
  align-items: center;
  list-style: none;
  gap: 1.5rem; /* balanced spacing */
  margin: 0;
  padding: 0;
  margin-left: 2rem; /* breathing room after brand */
  margin-right: 2rem;
  flex: 1 1 auto;
  justify-content: center; /* center menu between logo and CTA */
}

.nav-item {
  position: relative;
}

.nav-link {
  text-decoration: none;
  color: #212121;
  font-family: 'Montserrat', sans-serif;
  font-weight: 500;
  font-size: 0.9375rem;
  padding: 0.5rem 0;
  transition: all 0.3s ease;
  position: relative;
}

.nav-link::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0;
  height: 2px;
  background: #FF9800;
  transition: width 0.3s ease;
}

.nav-link:hover,
.nav-link.active {
  color: #FF9800;
}

.nav-link:hover::after,
.nav-link.active::after {
  width: 100%;
}

/* Dropdown */
.dropdown {
  position: relative;
}

.dropdown-menu {
  position: absolute;
  top: 100%;
  left: 0;
  background: white;
  min-width: 220px;
  border-radius: 0.5rem;
  box-shadow: 0 8px 24px rgba(0,0,0,0.15);
  opacity: 0;
  visibility: hidden;
  transform: translateY(20px);
  transition: all 0.3s ease;
  padding: 0.5rem 0;
  margin-top: 0.5rem;
}

.dropdown:hover .dropdown-menu,
.dropdown.active .dropdown-menu {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.dropdown-item {
  display: block;
  padding: 0.75rem 1.5rem;
  color: #212121;
  text-decoration: none;
  transition: all 0.2s ease;
}

.dropdown-item:hover {
  background: #F5F5F5;
  color: #FF9800;
  padding-left: 2rem;
}

.navbar-cta {
  display: flex;
  align-items: center;
  gap: 1.25rem;
  white-space: nowrap; /* keep phone and CTA on one line */
  flex: 0 0 auto;
}

.phone-number {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  color: #1A237E;
  text-decoration: none;
  font-weight: 600;
}

.phone-number span { white-space: nowrap; }

.phone-number i {
  color: #FF9800;
  font-size: 1.25rem;
  padding-left: 0;
}

.phone-number:hover {
  color: #FF9800;
}

/* Mobile Menu Toggle */
.mobile-menu-toggle {
  display: none;
  background: none;
  border: none;
  font-size: 1.5rem;
  color: #212121;
  cursor: pointer;
  padding: 0.5rem;
}

.mobile-menu {
  display: none;
}

/* Responsive */
@media (max-width: 991px) {
  .navbar-nav {
    display: none;
  }

  .mobile-menu-toggle {
    display: block;
  }

  .mobile-menu {
    position: fixed;
    top: 0;
    right: -100%;
    width: 300px;
    height: 100vh;
    background: white;
    box-shadow: -5px 0 20px rgba(0,0,0,0.2);
    transition: right 0.3s ease;
    z-index: 2000;
    overflow-y: auto;
    display: block;
  }

  .mobile-menu.active {
    right: 0;
  }

  .mobile-menu-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.5rem;
    border-bottom: 1px solid #E0E0E0;
  }

  .mobile-menu-close {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #212121;
  }

  .mobile-nav {
    padding: 1rem 0;
  }

  .mobile-nav-item {
    border-bottom: 1px solid #F5F5F5;
  }

  .mobile-nav-link {
    display: block;
    padding: 1rem 1.5rem;
    color: #212121;
    text-decoration: none;
    font-weight: 500;
  }

  .mobile-nav-link:hover {
    background: #F5F5F5;
    color: #FF9800;
  }

  .mobile-dropdown-menu {
    background: #F5F5F5;
    padding: 0;
  }

  .mobile-dropdown-menu .mobile-nav-link {
    padding-left: 2.5rem;
    font-size: 0.9375rem;
  }

  .phone-number span {
    display: none;
  }
}

@media (max-width: 576px) {
  .navbar-container {
    padding: 0.75rem 1rem;
  }

  .navbar-brand {
    font-size: 1.25rem;
  }

  .brand-logo {
    width: 40px;
    height: 40px;
    font-size: 1.25rem;
  }

  .phone-number {
    display: none;
  }
}
</style>

<!-- Top Info Bar (Optional) -->
<div style="background: linear-gradient(135deg, #1A237E, #3949AB); color: white; padding: 0.5rem 0; font-size: 0.875rem;">
  <div class="container">
    <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 0.5rem;">
      <div style="display: flex; gap: 1.5rem; align-items: center;">
        <span>üìß info@smartbuild.in</span>
        <span>üìç Chennai, Tamil Nadu</span>
      </div>
      <div style="display: flex; gap: 1rem; align-items: center;">
        <a href="#" style="color: white; text-decoration: none;" title="Facebook"><i class="fab fa-facebook-f"></i></a>
        <a href="#" style="color: white; text-decoration: none;" title="Twitter"><i class="fab fa-twitter"></i></a>
        <a href="#" style="color: white; text-decoration: none;" title="Instagram"><i class="fab fa-instagram"></i></a>
        <a href="#" style="color: white; text-decoration: none;" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
      </div>
    </div>
  </div>
</div>

<!-- Main Navigation -->
<nav class="navbar">
  <div class="navbar-container">
    <!-- Brand Logo -->
    <a href="index.html" class="navbar-brand">
      <div class="brand-logo">üèóÔ∏è</div>
      <div class="brand-text">Smart<span>Build</span></div>
    </a>

    <!-- Desktop Navigation -->
    <ul class="navbar-nav">
      <li class="nav-item">
        <a href="index.html" class="nav-link active">Home</a>
      </li>
      <li class="nav-item">
        <a href="about.html" class="nav-link">About</a>
      </li>
      <li class="nav-item dropdown">
        <a href="services.html" class="nav-link dropdown-toggle">Services ‚ñæ</a>
        <div class="dropdown-menu">
          <a href="services.html" class="dropdown-item">All Services</a>
          <a href="service-details.html" class="dropdown-item">Building Construction</a>
          <a href="service-details.html" class="dropdown-item">Architecture Design</a>
          <a href="service-details.html" class="dropdown-item">Interior Design</a>
          <a href="service-details.html" class="dropdown-item">Project Management</a>
          <a href="service-details.html" class="dropdown-item">Renovation</a>
        </div>
      </li>
      <li class="nav-item dropdown">
        <a href="projects.html" class="nav-link dropdown-toggle">Projects ‚ñæ</a>
        <div class="dropdown-menu">
          <a href="projects.html" class="dropdown-item">All Projects</a>
          <a href="projects.html#residential" class="dropdown-item">Residential</a>
          <a href="projects.html#commercial" class="dropdown-item">Commercial</a>
          <a href="projects.html#interior" class="dropdown-item">Interior</a>
        </div>
      </li>
      <li class="nav-item">
        <a href="team.html" class="nav-link">Team</a>
      </li>
      <li class="nav-item">
        <a href="blog.html" class="nav-link">Blog</a>
      </li>
      <li class="nav-item">
        <a href="contact.html" class="nav-link">Contact</a>
      </li>
    </ul>

    <!-- CTA Section -->
    <div class="navbar-cta">
      <a href="tel:+919876543210" class="phone-number">
        <i class="fas fa-phone-alt"></i>
        <span>+91&nbsp;98765&nbsp;43210</span>
      </a>
      <a href="quote.html" class="btn btn-primary btn-sm">Get a Quote</a>
      <button class="mobile-menu-toggle">
        <i class="fas fa-bars"></i>
      </button>
    </div>
  </div>
</nav>

<!-- Mobile Menu -->
<div class="mobile-menu">
  <div class="mobile-menu-header">
    <a href="index.html" class="navbar-brand">
      <div class="brand-logo">üèóÔ∏è</div>
      <div class="brand-text">Smart<span>Build</span></div>
    </a>
    <button class="mobile-menu-close">
      <i class="fas fa-times"></i>
    </button>
  </div>
  
  <nav class="mobile-nav">
    <div class="mobile-nav-item">
      <a href="index.html" class="mobile-nav-link">Home</a>
    </div>
    <div class="mobile-nav-item">
      <a href="about.html" class="mobile-nav-link">About</a>
    </div>
    <div class="mobile-nav-item">
      <a href="services.html" class="mobile-nav-link">Services</a>
      <div class="mobile-dropdown-menu">
        <a href="service-details.html" class="mobile-nav-link">Building Construction</a>
        <a href="service-details.html" class="mobile-nav-link">Architecture Design</a>
        <a href="service-details.html" class="mobile-nav-link">Interior Design</a>
        <a href="service-details.html" class="mobile-nav-link">Project Management</a>
        <a href="service-details.html" class="mobile-nav-link">Renovation</a>
      </div>
    </div>
    <div class="mobile-nav-item">
      <a href="projects.html" class="mobile-nav-link">Projects</a>
      <div class="mobile-dropdown-menu">
        <a href="projects.html#residential" class="mobile-nav-link">Residential</a>
        <a href="projects.html#commercial" class="mobile-nav-link">Commercial</a>
        <a href="projects.html#interior" class="mobile-nav-link">Interior</a>
      </div>
    </div>
    <div class="mobile-nav-item">
      <a href="team.html" class="mobile-nav-link">Team</a>
    </div>
    <div class="mobile-nav-item">
      <a href="blog.html" class="mobile-nav-link">Blog</a>
    </div>
    <div class="mobile-nav-item">
      <a href="contact.html" class="mobile-nav-link">Contact</a>
    </div>
    <div class="mobile-nav-item">
      <a href="quote.html" class="mobile-nav-link" style="color: #FF9800; font-weight: 600;">üìã Get a Quote</a>
    </div>
    <div class="mobile-nav-item">
      <a href="tel:+919876543210" class="mobile-nav-link">üìû +91 98765 43210</a>
    </div>
  </nav>
</div>

<!-- Page offset for fixed navbar -->
<div style="height: 80px;"></div>

<script>
  // Mobile Menu Toggle
  (function() {
    const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
    const mobileMenu = document.querySelector('.mobile-menu');
    const mobileMenuClose = document.querySelector('.mobile-menu-close');
    const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');

    if (mobileMenuToggle) {
      mobileMenuToggle.addEventListener('click', () => {
        mobileMenu.classList.add('active');
        document.body.style.overflow = 'hidden';
      });
    }

    if (mobileMenuClose) {
      mobileMenuClose.addEventListener('click', () => {
        mobileMenu.classList.remove('active');
        document.body.style.overflow = '';
      });
    }

    // Close menu when clicking on a link
    mobileNavLinks.forEach(link => {
      link.addEventListener('click', () => {
        mobileMenu.classList.remove('active');
        document.body.style.overflow = '';
      });
    });

    // Close menu when clicking outside
    mobileMenu.addEventListener('click', (e) => {
      if (e.target === mobileMenu) {
        mobileMenu.classList.remove('active');
        document.body.style.overflow = '';
      }
    });
  })();

  // Navbar Scroll Effect
  (function() {
    const navbar = document.querySelector('.navbar');
    let lastScroll = 0;

    window.addEventListener('scroll', () => {
      const currentScroll = window.pageYOffset;

      if (currentScroll > 50) {
        navbar.classList.add('navbar-scrolled');
      } else {
        navbar.classList.remove('navbar-scrolled');
      }

      lastScroll = currentScroll;
    });
  })();

  // Adjust navigation links based on current page location
  (function() {
    const currentPath = window.location.pathname;
    const currentHref = window.location.href;
    const isInPagesFolder = currentPath.includes('/pages/') || currentHref.includes('/pages/');
    const isRootIndex = currentPath.endsWith('/') || currentPath.endsWith('/index.html') || (!currentPath.includes('/pages/') && currentPath.split('/').filter(p => p && !p.includes('.')).length <= 1);
    
    // List of page files (excluding index.html which is handled separately)
    const pageFiles = ['about', 'services', 'projects', 'team', 'blog', 'contact', 'quote', 'pricing', 'faq', 'testimonials', 'service-details', 'project-details', 'blog-details', 'privacy-policy', '404', 'coming-soon', 'login', 'dashboard'];
    
    // Update active link and adjust paths
    const navLinks = document.querySelectorAll('.nav-link, .mobile-nav-link, .dropdown-item, .navbar-brand');
    navLinks.forEach(link => {
      let href = link.getAttribute('href');
      
      // Skip external links, anchors, tel, mailto
      if (!href || href.startsWith('http') || href.startsWith('#') || href.startsWith('tel:') || href.startsWith('mailto:')) {
        return;
      }

      // Adjust paths
      if (isInPagesFolder) {
        // From pages/ folder: other pages are in same folder, index is up one level
        if (href === 'index.html' || href === '') {
          link.setAttribute('href', '../index.html');
        } else if (href.endsWith('.html') && !href.startsWith('../') && !href.startsWith('/')) {
          // Pages in same folder - keep as is (about.html, services.html, etc.)
        }
      } else if (isRootIndex) {
        // From root: all other pages are in pages/ folder
        if (href && href.endsWith('.html') && href !== 'index.html' && !href.startsWith('pages/') && !href.startsWith('../') && !href.startsWith('/')) {
          link.setAttribute('href', 'pages/' + href);
        }
      }

      // Update active link state
      const updatedHref = link.getAttribute('href');
      const currentPage = currentPath.split('/').pop().replace('.html', '').toLowerCase();
      const linkPage = updatedHref.split('/').pop().replace('.html', '').replace('../', '').toLowerCase();
      
      if ((linkPage === 'index' || linkPage === '') && (currentPage === 'index' || currentPage === '' || isRootIndex)) {
        link.classList.add('active');
      } else if (linkPage && linkPage === currentPage) {
        link.classList.add('active');
      }
    });

    // Ensure favicon
    (function ensureFavicon(){
      const head = document.head || document.getElementsByTagName('head')[0];
      if (!head) return;
      const existing = head.querySelector('link[rel="icon"], link[rel="shortcut icon"]');
      const href = isInPagesFolder ? '../assets/img/favicon.svg' : 'assets/img/favicon.svg';
      if (existing) {
        existing.setAttribute('href', href);
        existing.setAttribute('type', 'image/svg+xml');
      } else {
        const link = document.createElement('link');
        link.setAttribute('rel', 'icon');
        link.setAttribute('type', 'image/svg+xml');
        link.setAttribute('href', href);
        head.appendChild(link);
      }
    })();
  })();
</script>

